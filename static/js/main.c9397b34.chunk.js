(this["webpackJsonpfortnite-losers"]=this["webpackJsonpfortnite-losers"]||[]).push([[0],{183:function(e){e.exports=JSON.parse('{"usernames":["webmaestrofr","lojah01","Maxime_SMN","laplume_bob","Tibsim","Fabinoide"]}')},190:function(e){e.exports=JSON.parse('{"Authorization":"c7de310c-04e86d8e-238d0031-5be2aa37"}')},221:function(e,t,a){e.exports=a(427)},226:function(e,t,a){},426:function(e,t,a){},427:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(16),l=a.n(c),o=a(431),s=(a(226),a(429)),u=a(430),i=a(182),m={category:"solo",tab:"stats"},p=Object(n.createContext)(m),f=function(){return Object(n.useContext)(p)},d=[],v=Object(n.createContext)(d),E=a(434),b=a(435),h=a(191),y=a(10),g=a(74),j=function(e){switch(e){case"placetop1":return"#ffc107";case"placetop3":case"placetop5":case"placetop10":return"#007bff";case"placetop6":case"placetop12":case"placetop25":return"#28a745";default:return"#ccc"}},O=function(e){switch(e){case"placetop1":return"Top 1";case"kd":return"Kills per Death";case"winrate":return"Win Rate";case"placetop3":return"Top 3";case"placetop5":return"Top 5";case"placetop6":return"Top 6";case"placetop10":return"Top 10";case"placetop12":return"Top 12";case"placetop25":return"Top 25";case"kills":return"Kills";case"matchesplayed":return"Matches Played";case"minutesplayed":return"Minutes Played";case"score":return"Score";case"playersoutlived":return"Players Outlived";default:return e}},w=function(e){var t=e.id,a=e.stats,n=Object.entries(a).filter((function(e){var t=Object(y.a)(e,2),a=t[0],n=t[1];return a.startsWith("placetop")&&n})).map((function(e){var t=Object(y.a)(e,2),a=t[0],n=t[1];return{fill:j(a),name:O(a),value:n}})),c=[].concat(Object(h.a)(n),[{fill:j("matchesplayed"),value:n.reduce((function(e,t){return e-t.value}),a.matchesplayed)}]).reverse(),l="ChartPlaceTop-shadow-".concat(t);return r.a.createElement(g.c,{aspect:1,className:"ChartPlaceTop"},r.a.createElement(g.b,{width:512,height:512},r.a.createElement("defs",null,r.a.createElement("filter",{id:l},r.a.createElement("feDropShadow",{dx:"0",dy:"0",stdDeviation:1,floodColor:"rgba(0, 0, 0, 0.5)"}))),r.a.createElement(g.a,{dataKey:"value",data:c,endAngle:450,innerRadius:"33%",isAnimationActive:!0,label:function(e){var t=e.name;return O(t)||""},labelLine:!1,outerRadius:"67%",startAngle:90,stroke:"none",style:{filter:"url(#".concat(l,")")}})))},k=function(e){var t=e.stats;return r.a.createElement("div",{className:"PlayerStats"},Object.keys(t).sort().map((function(e){return t[e]?r.a.createElement("div",{className:"PlayerStats-stat",key:e},r.a.createElement("span",{className:"PlayerStats-stat-name"},O(e)),r.a.createElement("span",{className:"PlayerStats-stat-value"},t[e])):null})))},P=function(e){var t=e.account,a=e.global_stats,n=e.name,c=a[f().category];return r.a.createElement(E.a,{className:"PlayerCard"},r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Title,{as:"h2"},n),r.a.createElement("h3",{className:"ChartPlaceTop-level"},"Level ",r.a.createElement("span",null,t.level)),r.a.createElement(b.a,{now:t.progress_pct}),r.a.createElement(w,{id:n,stats:c}),r.a.createElement(k,{stats:c})))},S=function(){var e=Object(n.useContext)(v),t=f().category;return r.a.createElement(s.a,{as:i.a,className:"PlayersList"},e.sort((function(e,a){return a.global_stats[t].winrate-e.global_stats[t].winrate})).map((function(e){return r.a.createElement(u.a,{key:e.name,md:6,lg:4},r.a.createElement(P,e))})))},C=a(183),N=a(68),T=a(32),L=a(432),x=a(433),A=function(e){var t=e.children,a=Object(n.useState)(m),c=Object(y.a)(a,2),l=c[0],o=c[1],s=Object(n.useCallback)((function(e){return function(t){return o((function(a){return Object(T.a)({},a,Object(N.a)({},e,t))}))}}),[]);return r.a.createElement(p.Provider,{value:l},r.a.createElement(L.a,{className:"Navigation justify-content-between"},r.a.createElement(x.a,{variant:"pills",activeKey:l.tab,onSelect:s("tab")},r.a.createElement(x.a.Item,null,r.a.createElement(x.a.Link,{eventKey:"stats"},"Stats")),r.a.createElement(x.a.Item,null,r.a.createElement(x.a.Link,{eventKey:"challenges"},"Challenges"))),r.a.createElement(x.a,{variant:"pills",activeKey:l.category,onSelect:s("category")},r.a.createElement(x.a.Item,null,r.a.createElement(x.a.Link,{eventKey:"solo"},"Solo")),r.a.createElement(x.a.Item,null,r.a.createElement(x.a.Link,{eventKey:"duo"},"Duo")),r.a.createElement(x.a.Item,null,r.a.createElement(x.a.Link,{eventKey:"squad"},"Squad")))),t)},K=a(188),q=a(70),_=a.n(q),I=a(189),D=a(190),J=Object(I.setup)({baseURL:"https://fortniteapi.io",cache:{maxAge:6e4},headers:Object(T.a)({},D,{"Content-Type":"application/json"})}),M=function(e){return e.data},R=function(e){return Promise.reject(e.response)},W=function(e){var t=_.a.CancelToken.source(),a=!0;return{cancel:function(){return a?t.cancel():void 0},isLoading:function(){return a},request:new Promise((function(n,r){var c=Object(T.a)({},e,{cancelToken:t.token}),l="[".concat(e.method||"GET","] ").concat(e.url);J.request(c).then((function(t){a=!1,console.log(l,{config:e,response:t}),n(t)}),(function(t){a=!1,_.a.isCancel(t)?console.warn(l,"(canceled)",{config:e,error:t}):console.error(l,{config:e,error:t}),r(t)}))})).then(M,R)}},B=function(e){if(Array.isArray(e)){var t=e.map((function(e){return W(e)}));return{cancel:function(){return t.map((function(e){return(0,e.cancel)()}))},isLoading:function(){return t.some((function(e){return(0,e.isLoading)()}))},request:Promise.all(t.map((function(e){return e.request})))}}return W(e)},F=[],U=Object(n.createContext)(F),z=function(e){var t=e.children,a=e.usernames,c=Object(n.useState)(F),l=Object(y.a)(c,2),o=l[0],s=l[1];return Object(n.useEffect)((function(){var e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"psn";return B(e.map((function(e){return{params:{platform:t,username:e},url:"/lookup"}})))}(a),t=e.cancel;return e.request.then((function(e){return s(e.map((function(e,t){return Object(T.a)({username:a[t]},e)})))}),console.error),t}),[a]),r.a.createElement(U.Provider,{value:o},t)},G=function(e){var t=e.children,a=Object(n.useState)(d),c=Object(y.a)(a,2),l=c[0],o=c[1],s=Object(n.useContext)(U);return Object(n.useEffect)((function(){var e,t=(e=s.map((function(e){return e.account_id})),B(e.map((function(e){return{params:{account:e},url:"/stats"}})))),a=t.cancel;return t.request.then((function(e){return o(e)}),console.error),a}),[s]),r.a.createElement(v.Provider,{value:l},t)},$=function(e){var t=e.usernames,a=Object(K.a)(e,["usernames"]);return r.a.createElement(z,{usernames:t},r.a.createElement(G,a))},H=function(){switch(f().tab){case"challenges":return r.a.createElement(r.a.Fragment,null,"Under construction.");default:return r.a.createElement($,{usernames:C.usernames},r.a.createElement(S,null))}},Q=function(){return r.a.createElement(o.a,{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h1",null,"Fortnite Losers")),r.a.createElement("main",{className:"App-main"},r.a.createElement(A,null,r.a.createElement(H,null))))};a(426),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[221,1,2]]]);
//# sourceMappingURL=main.c9397b34.chunk.js.map